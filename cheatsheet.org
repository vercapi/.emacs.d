#+TITLE: Emacs Cheatsheet

* Text navigation

  | Key       | Function                            |
  |-----------+-------------------------------------|
  | C-:       | Goto char                           |
  | C-;       | Gotot a combination of 2 cahracters |
  |           |                                     |
  | bookmarks |                                     |
  | C-x r m   | Set bookmark                        |
  | C-x r b   | Go to a bookmark                    |
  | C-x r l   | List all bookmarks                  |
  |           |                                     |
  | C-u C-SPC | Go back to last point on the stack  |
  | M-g M-g   | Go to line                          |
  |           |                                     |
  | C-M-a     | Move to beginning of function       |
  | C-M-e     | Move to end of function             |
  | C-M-h     | Select the current function         |
  |           |                                     |
  | M-n       | Go down, don't move cursor          |
  | M-p       | Go up, don't move cursor            |
  |           |                                     |
  | C-)       | Go to right brackt                  |
  | C-(       | Go to left bracket                  |
  |           |                                     |
  | C-c p     | Go to last change                   |
  | C-c n     | Go through changes in reverse order |
  |           |                                     |

** Text navigation configuration
   
   | Key              | Function                         |
   |------------------+----------------------------------|
   | (subword-mode 1) | Enable move cursor by camel case |
   |                  |                                  |
   
* Search

| Key     | Function                    |
|---------+-----------------------------|
|         |                             |
| C-s C-w | Search for word after point |
| C-s C-s | Repeat last search          |
| C-s M-y | Search last kill            |
| C-u C-s | Regepx Search               |
| C-u C-r | Reverse Regexp Search       |

* Selection

| Key              | Function                  |
|------------------+---------------------------|
| Mutliple cursors |                           |
| C->              | Mark next like this       |
| C-M->            | Unmark next like this     |
| C-<              | Mark previous like this   |
| C-M-<            | Unmark previous like this |
|                  |                           |
| Region selection |                           |
| C-=              | Expand region             |
|                  |                           |

* Editing
| Key                  | Function                                                                         |
|----------------------+----------------------------------------------------------------------------------|
| Autocomplete         |                                                                                  |
| <TAB>                | expand abbreviation                                                              |
|                      |                                                                                  |
| Spellcheck           |                                                                                  |
| M-$                  | spell check word at point                                                        |
| C-c c                | autocorrect                                                                      |
|                      |                                                                                  |
| Search & Replace     |                                                                                  |
| M-%                  | Replace from cursor                                                              |
| C-M-%                | Replace from cursro with regex                                                   |
| M-\                  | Delete all whitespace on line                                                    |
| M-SPC                | Delete all but 1 whitespace on line                                              |
| M-^                  | Join this line with the line above (also removes spaces to some extend)          |
| C-x C-o              | delete all empty lines but 1                                                     |
|                      |                                                                                  |
| C-t                  | transpose characters                                                             |
| M-t                  | transpose words                                                                  |
| C-M-t                | transpose sexp                                                                   |
| C-x C-t              | transpose lines                                                                  |
| transpose-sentences  | transpose sentences                                                              |
| transpose-paragrpahs | transpose paragraphs                                                             |
|                      |                                                                                  |
| C-x DEL              | delete to beginning of line                                                      |
|                      |                                                                                  |
| M-z                  | Remove characters up to line                                                     |
| flush-lines          | Remove all lines matching regex                                                  |
| keep-lines           | Keep only lines matching regex                                                   |
|                      |                                                                                  |
| Special characters   |                                                                                  |
| C-c C-x \            | Show entities as UTF 8 and also convert other conventions to nice looking things |
|                      |                                                                                  |
| x_{B}                | Sub script                                                                       |
| x^{B}                | SupperScript                                                                     |
|                      |                                                                                  |
| S-SPACE              | Expand math symbols ([[http://ergoemacs.org/emacs/xmsi-math-symbols-input.html][xah-math-input]]) xah-math-input-mode                         |

* Correction

| Key           | Function                             |
|---------------+--------------------------------------|
| flyspell-mode |                                      |
| C-;           | Cylce through corrections            |
|               |                                      |
| flycheck-mode |                                      |
| C-c ! ?       | Describe a Flycheck Checker          |
| C-c ! C-c     | Compile using checker                |
| C-c ! C-w     | Copy error point is on to kill ring  |
| C-c ! C       | Clear all highlights from buffer     |
| C-c ! V       | Report Flycheck version              |
| C-c ! c       | Start syntax checking current buffer |
| C-c ! e       | Change Flycheck executable           |
| C-c ! i       | Open Flycheck info manual            |
| C-c ! l       | List all Flycheck errors             |
| C-c ! n       | Jump to next error                   |
| C-c ! p       | Jump to previous error               |
| C-c ! s       | Change Flycheck checker              |
| C-c ! v       | Verifies the Flycheck checker works  |
| C-c ! x       | Disable Flycheck checker in buffer   |

* Org mode

| Key       | Function                                                   |
|-----------+------------------------------------------------------------|
| Babel     |                                                            |
| C-c '     | Edit code snippet in own buffer                            |
|           |                                                            |
| Links     |                                                            |
| C-c C-o   | Open link at point                                         |
| C-c C-l   | Create link                                                |
|           |                                                            |
| Moving    |                                                            |
| C-c C-j   | Navigation mode                                            |
| F7        | Set org mark ring                                          |
| C-F7      | Cyle through org mark ring                                 |
|           |                                                            |
| Searching |                                                            |
| C-c / R   | Regex search open all headers where occurences where found |
|           |                                                            |

* Helm
  
| Key          | Function                                |
|--------------+-----------------------------------------|
| M-y          | Show helm kill ring                     |
| <tab> or C-i | execute persistent action               |
| C-z          | List of possible actions                |
| C-x c i      | Show semantic definitions in buffer     |
| C-x c m      | Man or woman command                    |
| C-x c /      | Search files starting in the active dir |
| C-c h o      | Occurences in current file              |
| C-c h g      | Google suggest                          |
| C-c h p      | Search python refernce api              |
| C-c r h      | Helm projectile                         |

* Window manipulation

| Key        | Function                                              |
|------------+-------------------------------------------------------|
| C-c <-     | Restore previous window configuration                 |
| C-c ->     | Restore next window configuration                     |
| S-<arrows> | Move between windows, doesn't always work in org mode |
| C-x +      | balance-windows                                       |
|            |                                                       |
| f12        | Invoke ace window                                     |
|            | x - delete window                                     |
|            | m - swap (move) window                                |
|            | v - split window vertically                           |
|            | b - split window horizontally                         |
|            | n - select the previous window                        |
|            | i - maximize window (select which window)             |
|            | o - maximize current window                           |
|            |                                                       |

* Python specific

| Key     | Function                  |
|---------+---------------------------|
| C-c j   | goto definition (jedi)    |
| C-c d   | Show documentation        |
| C-<tab> | Autocomplete              |
| C-c n   | Next senator tag          |
| C-c p   | Previous senator tag      |
| C-c h p | Helm browse python doc    |

* Emacs lisp specific

| Key         | Function                  |
|-------------+---------------------------|
| C-M-x       | Evaluate current function |
| eval-buffer |                           |
| eval-region |                           |

* Lua specific

| Key     | function     |
|---------+--------------|
| C-c C-t | Run lua test |

* Helpfull functions

| Command        | Function                                          |
|----------------+---------------------------------------------------|
| align-regepx   | Make alignments e.g. [:space] to aligin on spaces |
|                |                                                   |
| yas-reload-all | Reload all snippets                               |
| ispell-buffer  | spell check entire buffer                         |
| untabify       | Convert tabs to spaces                            |
|                |                                                   |

* Eshell

| Key               | Explanation                                                          |
|-------------------+----------------------------------------------------------------------|
| C-c C-l           | helm history                                                         |
| M-s / M-r         | Regex search for command / Backwards                                 |
| C-c M-r / C-c M-s | Previous / next command that used the same command                   |
|                   |                                                                      |
| !!                | repeat last command                                                  |
| !<cmd>            | repeat last command starting with <cmd>, tab autocomplete works here |
| !<cmd>:<n>        | use n^{th} argument from a prev command starting with <cmd>          |
| $_                | last parameter from the last executed command                        |
|                   |                                                                      |
| C-c M-b           | Insert emacs buffer name                                             |
| C-c M-i           | Insert process name                                                  |
| C-c M-v           | Insert environment variable                                          |
|                   |                                                                      |

** Command  examples

   # last part is buffer name (via C-c M-b)
   cat mylog.log >> #<buffer *scratch*>

   Devices:
   - /dev/eshell -> Prints the output interactively to Eshell.
   - /dev/null   -> Sends the output to the NULL device.
   - /dev/clip   -> Sends the output to the clipboard.
   - /dev/kill   -> Sends the output to the kill ring.
* Dired

| Key         | Explanation                             |
|-------------+-----------------------------------------|
| m           | mark marked/current                     |
| u           | unmark marked/current                   |
| C           | Copy marked/current                     |
| R           | Rename/Move marked/current              |
| D           | Delete marked/current                   |
| Q           | Query replace in marked/current         |
| % m <regex> | Mark any file matching the regex        |
| * t         | Invert mark                             |
| * s         | Mark all                                |
| +           | Create directory                        |
|             |                                         |
| a           | Open in current buffer                  |
|             |                                         |
| C-x C-q     | Dired edit mode                         |
| C-c C-c     | Save changes                            |
| C-c C-k     | Cancel changes                          |
|             |                                         |
| w           | copy names of marked files to kill ring |
| c-0 w       | copies absolute filename                |
|             |                                         |

* Emacs general
  
  pkill -SIGUSR2 emacs
  
** Help
| Key   | Explanation                  |
|-------+------------------------------|
| C-h f | Show emacs doc               |
| C-h b | show all bindings            |
| C-h k | Show command behind key      |
| C-h v | Show the value of a variable |
|       |                              |

** Shell commands

| Key | Explanation                        |
|-----+------------------------------------|
| M-! | Shell command output to new buffer |
| M-  | Shell command on region            |

* Magit

  | Key | Explanation     |
  |-----+-----------------|
  | !   | Run git command |
  |     |                 |
  

** Stage mode
  
  | Key | Explanation              |
  |-----+--------------------------|
  | k   | Discard uncommted change |
  |     |                          |
  
